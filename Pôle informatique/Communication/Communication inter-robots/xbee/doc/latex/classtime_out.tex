\hypertarget{classtime_out}{}\doxysection{Référence de la classe time\+Out}
\label{classtime_out}\index{timeOut@{timeOut}}


This class can manage a timer which is used as a timeout.  




{\ttfamily \#include $<$serialib.\+h$>$}

\doxysubsection*{Fonctions membres publiques}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtime_out_a2cffa89f7b90e4501e07e8cb7ccb3117}{time\+Out}} ()
\begin{DoxyCompactList}\small\item\em Constructor of the class \mbox{\hyperlink{classtime_out}{time\+Out}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classtime_out_a88b4caef4ce7bfc42b73a61589c098e8}{init\+Timer}} ()
\begin{DoxyCompactList}\small\item\em Initialise the timer. It writes the current time of the day in the structure Previous\+Time. \end{DoxyCompactList}\item 
unsigned long int \mbox{\hyperlink{classtime_out_af5db5b5f0db4f6ada19187ef8f214214}{elapsed\+Time\+\_\+ms}} ()
\begin{DoxyCompactList}\small\item\em Returns the time elapsed since initialization. It write the current time of the day in the structure Current\+Time. Then it returns the difference between Current\+Time and Previous\+Time. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Attributs privés}
\begin{DoxyCompactItemize}
\item 
struct timeval \mbox{\hyperlink{classtime_out_a861a9dd7167145791d9ea4127114212a}{previous\+Time}}
\end{DoxyCompactItemize}


\doxysubsection{Description détaillée}
This class can manage a timer which is used as a timeout. 

Définition à la ligne \mbox{\hyperlink{serialib_8h_source_l00245}{245}} du fichier \mbox{\hyperlink{serialib_8h_source}{serialib.\+h}}.



\doxysubsection{Documentation des constructeurs et destructeur}
\mbox{\Hypertarget{classtime_out_a2cffa89f7b90e4501e07e8cb7ccb3117}\label{classtime_out_a2cffa89f7b90e4501e07e8cb7ccb3117}} 
\index{timeOut@{timeOut}!timeOut@{timeOut}}
\index{timeOut@{timeOut}!timeOut@{timeOut}}
\doxysubsubsection{\texorpdfstring{timeOut()}{timeOut()}}
{\footnotesize\ttfamily time\+Out\+::time\+Out (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Constructor of the class \mbox{\hyperlink{classtime_out}{time\+Out}}. 



Définition à la ligne \mbox{\hyperlink{serialib_8cpp_source_l01011}{1011}} du fichier \mbox{\hyperlink{serialib_8cpp_source}{serialib.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01012 \{\}}

\end{DoxyCode}


\doxysubsection{Documentation des fonctions membres}
\mbox{\Hypertarget{classtime_out_af5db5b5f0db4f6ada19187ef8f214214}\label{classtime_out_af5db5b5f0db4f6ada19187ef8f214214}} 
\index{timeOut@{timeOut}!elapsedTime\_ms@{elapsedTime\_ms}}
\index{elapsedTime\_ms@{elapsedTime\_ms}!timeOut@{timeOut}}
\doxysubsubsection{\texorpdfstring{elapsedTime\_ms()}{elapsedTime\_ms()}}
{\footnotesize\ttfamily unsigned long int time\+Out\+::elapsed\+Time\+\_\+ms (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns the time elapsed since initialization. It write the current time of the day in the structure Current\+Time. Then it returns the difference between Current\+Time and Previous\+Time. 

\begin{DoxyReturn}{Renvoie}
The number of microseconds elapsed since the functions Init\+Timer was called. 
\end{DoxyReturn}


Définition à la ligne \mbox{\hyperlink{serialib_8cpp_source_l01039}{1039}} du fichier \mbox{\hyperlink{serialib_8cpp_source}{serialib.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01040 \{}
\DoxyCodeLine{01041 \textcolor{preprocessor}{\#if defined (NO\_POSIX\_TIME)}}
\DoxyCodeLine{01042     \textcolor{comment}{// Current time}}
\DoxyCodeLine{01043     LARGE\_INTEGER CurrentTime;}
\DoxyCodeLine{01044     \textcolor{comment}{// Number of ticks since last call}}
\DoxyCodeLine{01045     \textcolor{keywordtype}{int} sec;}
\DoxyCodeLine{01046 }
\DoxyCodeLine{01047     \textcolor{comment}{// Get current time}}
\DoxyCodeLine{01048     QueryPerformanceCounter(\&CurrentTime);}
\DoxyCodeLine{01049 }
\DoxyCodeLine{01050     \textcolor{comment}{// Compute the number of ticks elapsed since last call}}
\DoxyCodeLine{01051     sec=CurrentTime.QuadPart-\/\mbox{\hyperlink{classtime_out_a861a9dd7167145791d9ea4127114212a}{previousTime}};}
\DoxyCodeLine{01052 }
\DoxyCodeLine{01053     \textcolor{comment}{// Return the elapsed time in milliseconds}}
\DoxyCodeLine{01054     \textcolor{keywordflow}{return} sec/(counterFrequency/1000);}
\DoxyCodeLine{01055 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01056     \textcolor{comment}{// Current time}}
\DoxyCodeLine{01057     \textcolor{keyword}{struct }timeval CurrentTime;}
\DoxyCodeLine{01058     \textcolor{comment}{// Number of seconds and microseconds since last call}}
\DoxyCodeLine{01059     \textcolor{keywordtype}{int} sec,usec;}
\DoxyCodeLine{01060 }
\DoxyCodeLine{01061     \textcolor{comment}{// Get current time}}
\DoxyCodeLine{01062     gettimeofday(\&CurrentTime, NULL);}
\DoxyCodeLine{01063 }
\DoxyCodeLine{01064     \textcolor{comment}{// Compute the number of seconds and microseconds elapsed since last call}}
\DoxyCodeLine{01065     sec=CurrentTime.tv\_sec-\/\mbox{\hyperlink{classtime_out_a861a9dd7167145791d9ea4127114212a}{previousTime}}.tv\_sec;}
\DoxyCodeLine{01066     usec=CurrentTime.tv\_usec-\/\mbox{\hyperlink{classtime_out_a861a9dd7167145791d9ea4127114212a}{previousTime}}.tv\_usec;}
\DoxyCodeLine{01067 }
\DoxyCodeLine{01068     \textcolor{comment}{// If the previous usec is higher than the current one}}
\DoxyCodeLine{01069     \textcolor{keywordflow}{if} (usec<0)}
\DoxyCodeLine{01070     \{}
\DoxyCodeLine{01071         \textcolor{comment}{// Recompute the microseonds and substract one second}}
\DoxyCodeLine{01072         usec=1000000-\/\mbox{\hyperlink{classtime_out_a861a9dd7167145791d9ea4127114212a}{previousTime}}.tv\_usec+CurrentTime.tv\_usec;}
\DoxyCodeLine{01073         sec-\/-\/;}
\DoxyCodeLine{01074     \}}
\DoxyCodeLine{01075 }
\DoxyCodeLine{01076     \textcolor{comment}{// Return the elapsed time in milliseconds}}
\DoxyCodeLine{01077     \textcolor{keywordflow}{return} sec*1000+usec/1000;}
\DoxyCodeLine{01078 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01079 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classtime_out_a88b4caef4ce7bfc42b73a61589c098e8}\label{classtime_out_a88b4caef4ce7bfc42b73a61589c098e8}} 
\index{timeOut@{timeOut}!initTimer@{initTimer}}
\index{initTimer@{initTimer}!timeOut@{timeOut}}
\doxysubsubsection{\texorpdfstring{initTimer()}{initTimer()}}
{\footnotesize\ttfamily void time\+Out\+::init\+Timer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Initialise the timer. It writes the current time of the day in the structure Previous\+Time. 



Définition à la ligne \mbox{\hyperlink{serialib_8cpp_source_l01019}{1019}} du fichier \mbox{\hyperlink{serialib_8cpp_source}{serialib.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01020 \{}
\DoxyCodeLine{01021 \textcolor{preprocessor}{\#if defined (NO\_POSIX\_TIME)}}
\DoxyCodeLine{01022     LARGE\_INTEGER tmp;}
\DoxyCodeLine{01023     QueryPerformanceFrequency(\&tmp);}
\DoxyCodeLine{01024     counterFrequency = tmp.QuadPart;}
\DoxyCodeLine{01025     \textcolor{comment}{// Used to store the previous time (for computing timeout)}}
\DoxyCodeLine{01026     QueryPerformanceCounter(\&tmp);}
\DoxyCodeLine{01027     \mbox{\hyperlink{classtime_out_a861a9dd7167145791d9ea4127114212a}{previousTime}} = tmp.QuadPart;}
\DoxyCodeLine{01028 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01029     gettimeofday(\&\mbox{\hyperlink{classtime_out_a861a9dd7167145791d9ea4127114212a}{previousTime}}, NULL);}
\DoxyCodeLine{01030 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01031 \}}

\end{DoxyCode}


\doxysubsection{Documentation des données membres}
\mbox{\Hypertarget{classtime_out_a861a9dd7167145791d9ea4127114212a}\label{classtime_out_a861a9dd7167145791d9ea4127114212a}} 
\index{timeOut@{timeOut}!previousTime@{previousTime}}
\index{previousTime@{previousTime}!timeOut@{timeOut}}
\doxysubsubsection{\texorpdfstring{previousTime}{previousTime}}
{\footnotesize\ttfamily struct timeval time\+Out\+::previous\+Time\hspace{0.3cm}{\ttfamily [private]}}



Définition à la ligne \mbox{\hyperlink{serialib_8h_source_l00265}{265}} du fichier \mbox{\hyperlink{serialib_8h_source}{serialib.\+h}}.



La documentation de cette classe a été générée à partir du fichier suivant \+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{serialib_8h}{serialib.\+h}}\item 
\mbox{\hyperlink{serialib_8cpp}{serialib.\+cpp}}\end{DoxyCompactItemize}
